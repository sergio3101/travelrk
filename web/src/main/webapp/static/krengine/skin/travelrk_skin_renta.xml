<krpano>

<!--<include url="/krengine/skin/videointerface.xml" />-->
<action name="hotspot_animate">
                if(loaded,
                        inc(frame,1,get(frames),0);
                        mul(ypos,frame,frameheight);
                        txtadd(crop,'0|',get(ypos),'|',get(framewidth),'|',get(frameheight));
                        delayedcall(0.03, hotspot_animate() );
              );
</action>

<style name="arrow_style" url="/images/skin1.png" keep="false" visible="false"
           crop="870|0|58|40" onovercrop="870|53|58|40"
           cropnormal="870|0|58|40" onovercropnormal="870|53|58|40"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
           
    />
<style name="arrow_style_" url="/krengine/skin/hotspots/up.png" visible="false" keep="false"
	    frames="30" framewidth="120" frameheight="120" frame="0"
	    crop="0|0|60|60"
            alpha="0.8"
	    height="60"
	    width="60"
	    ondown="hsLinkedsceneOnclick();"
            onover="hsLinkedsceneOnover();"
            onout="hsLinkedsceneOnout();"
/>
<style name="arrow_style1" url="/krengine/skin/hotspot_sm.png" keep="false" visible="false"
           zoom="false"
           alpha="0.8"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
/>
<style name="point_style" x="-32" y="-32" keep="false" visible="false"
           url="/krengine/skin/hotspot_ani_white_64x64x20.png"
           crop="0|0|64|64"
           frames="20" framewidth="64" frameheight="64" frame="0"
           onloaded="hotspot_animate();"
           zoom="false"
           alpha="0.8"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
/>
<style name="hsHelicopter" url="/images/skin.png" keep="false" visible="false"
           crop="0|120|60|50" onovercrop="60|120|60|50"
           cropnormal="0|120|60|50" onovercropnormal="60|120|60|50"
           cropvisited="0|170|60|50" onovercropvisited="60|170|60|50"
           zoom="false"
           alpha="0.8"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
    />
<style name="hsSmHeliOld" url="/images/skin.png" keep="false" visible="false"
           crop="270|130|50|25" onovercrop="320|130|50|25"
           cropnormal="270|130|50|25" onovercropnormal="320|130|50|25"
           zoom="false"
           alpha="0.8"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
    />
<style name="hsSmHeli" url="/images/skin1.png" keep="false" visible="false" zorder="1"
           crop="706|0|33|33" onovercrop="706|53|33|33"
           cropnormal="706|0|33|33" onovercropnormal="706|53|33|33"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
    />
<style name="hsVideo360" url="/images/skin.png" keep="false" visible="false"
           crop="590|120|60|50" onovercrop="590|170|60|50"
           cropnormal="590|120|60|50" onovercropnormal="590|170|60|50"
           zoom="false"
           alpha="0.8"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
    />
<style name="hsGroundPointOld" url="/images/skin.png" keep="false" visible="false"
           crop="115|120|60|50" onovercrop="165|120|60|50"
           cropnormal="115|120|60|50" onovercropnormal="165|120|60|50"
           zoom="false"
           alpha="0.8"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
    />
<style name="hsGroundPoint" url="/images/skin1.png" keep="false" visible="false"
           crop="95|3|40|54"
           zoom="false"
           alpha="1"
           edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
    />
<style name="customerStyle" keep="false" visible="false" height="60" width="prop" alpha="1"
           zoom="false" zorder="2" edge="bottom" oy="-40"
           onover="hsCustomerOnover();"
           onout="hsCustomerOnout();"
    />
<style name="customerBgFrameStyle" keep="false" visible="false" alpha="0.7"
           zoom="false" zorder="1" edge="bottom" oy="-40"
    />
<style name="customerStyleLine" visible="true" url="/images/skin1.png" keep="false" 
           crop="930|65|6|40"
           zoom="false" zorder="1" edge="bottom" enabled="false" capture="false" selectable="false" 
    />
<style name="hsIcoStyle" type="text" keep="true" url="plugins/textfield.swf" background="false" css="font-size:12px; color:#000000" zorder="10" align="top" edge="top" oy="-50"/>

<style name="customerStyleTitle" visible="false" keep="false" oy="-110" alpha="0" mergedalpha="false"
           zorder="3" background="false" textshadow="1" textshadowrange="1" textshadowcolor="0x000000" textshadowalpha="0.5" autoheight="true"
           css="color:#ffffff; font-family:arial; font-size:14px; text-align:center;"
           cssTextLeft="color:#ffffff; font-family:arial; font-size:14px; text-align:left;"
           cssTextCenter="color:#ffffff; font-family:arial; font-size:14px; text-align:center;"
           cssTextRight="color:#ffffff; font-family:arial; font-size:14px; text-align:right;"
           enabled="false" capture="false" selectable="false" 
    />
<style name="hsDirection" url="/images/skin1.png" keep="false" visible="false"
           crop="739|0|58|40" onovercrop="739|53|58|40"
           cropnormal="739|0|58|40" onovercropnormal="739|53|58|40"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
           
    />
<style name="hsDirection_old" url="/images/skin.png" keep="false" visible="false"
           crop="220|270|60|25" onovercrop="300|270|60|25"
           cropnormal="220|270|60|25" onovercropnormal="300|270|60|25"
           zoom="false"
           alpha="0.8"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();"
           
    />

<style name="defaultStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="564|0|33|52" onovercrop="564|53|33|52"
           cropnormal="564|0|33|52" onovercropnormal="564|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="barStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="670|0|33|52" onovercrop="670|53|33|52"
           cropnormal="670|0|33|52" onovercropnormal="670|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="stolovStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="530|0|33|52" onovercrop="530|53|33|52"
           cropnormal="530|0|33|52" onovercropnormal="530|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="basseinStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="36|0|33|52" onovercrop="36|53|33|52"
           cropnormal="36|0|33|52" onovercropnormal="36|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="goryStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="107|0|33|52" onovercrop="107|53|33|52"
           cropnormal="107|0|33|52" onovercropnormal="107|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="detfunStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="143|0|33|52" onovercrop="143|53|33|52"
           cropnormal="143|0|33|52" onovercropnormal="143|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="coffeeStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="795|0|33|52" onovercrop="795|53|33|52"
           cropnormal="795|0|33|52" onovercropnormal="795|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="shopStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="249|0|33|52" onovercrop="249|53|33|52"
           cropnormal="249|0|33|52" onovercropnormal="249|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="hotelStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="318|0|33|52" onovercrop="318|53|33|52"
           cropnormal="318|0|33|52" onovercropnormal="318|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="memoriesStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="354|0|33|52" onovercrop="354|53|33|52"
           cropnormal="354|0|33|52" onovercropnormal="354|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="beachStyle" visible="false" url="/images/skin1.png" keep="false" scale="1"
           crop="459|0|33|52" onovercrop="459|53|33|52"
           cropnormal="459|0|33|52" onovercropnormal="459|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />

<style name="naturalStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="495|0|33|52" onovercrop="495|53|33|52"
           cropnormal="495|0|33|52" onovercropnormal="495|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="cinimaStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="178|0|33|52" onovercrop="178|53|33|52"
           cropnormal="178|0|33|52" onovercropnormal="178|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="streetsStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="600|0|33|52" onovercrop="600|53|33|52"
           cropnormal="600|0|33|52" onovercropnormal="600|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="parksStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="389|0|33|52" onovercrop="389|53|33|52"
           cropnormal="389|0|33|52" onovercropnormal="389|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="aquaparksStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="2|0|33|52" onovercrop="2|52|33|52"
           cropnormal="2|0|33|52" onovercropnormal="2|52|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />    
<style name="wineStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="72|0|33|52" onovercrop="72|53|33|52"
           cropnormal="72|0|33|52" onovercropnormal="72|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />    
<style name="fastfoodStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="635|0|33|52" onovercrop="635|53|33|52"
           cropnormal="635|0|33|52" onovercropnormal="635|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="pizzaStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="424|0|33|52" onovercrop="424|53|33|52"
           cropnormal="424|0|33|52" onovercropnormal="424|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="routsStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="283|0|33|52" onovercrop="283|53|33|52"
           cropnormal="283|0|33|52" onovercropnormal="283|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />
<style name="cofeynaStyle" visible="true" url="/images/skin1.png" keep="false" scale="1"
           crop="213|0|33|52" onovercrop="213|53|33|52"
           cropnormal="213|0|33|52" onovercropnormal="213|53|33|52"
           zoom="false" edge="bottom"
           ondown="hsLinkedsceneOnclick();"
           onover="hsLinkedsceneOnover();"
           onout="hsLinkedsceneOnout();" 
    />

<!--<layer name="airpanoLogo" url="/img/logo_pano.png" keep="true" scale="0.6" zorder="0" align="centertop" edge="righttop" x="80" y="10" preload="true" enabled="true" capture="false" hintru="© travelrk.ru - Авторские права защищены" hintruW="auto" hinteng="© travelrk.ru - Copyrights are protected" hintengW="auto" onhover="showHint(3);" ondown="openurl(https://travelrk.ru);"/>--> 
<!--<layer name="airpanoLogo" url="/img/logo_pano.png" keep="true" scale="0.6" zorder="0" align="centertop" edge="righttop" x="80" y="10" preload="true" enabled="true" capture="false" hintru="© travelrk.ru - Авторские права защищены" hintruW="auto" hinteng="© travelrk.ru - Copyrights are protected" hintengW="auto" onclick="forma(300,400,/krengine/help.html,Форма бронирования);"/>-->
<style name="bigThumbFrameSpinRight" align="right" rotate="0" x="4" y="0" />
    <style name="bigThumbFrameSpinBottom" align="bottom" rotate="90" x="0" y="4" />
    <style name="bigThumbFrameSpinLeft" align="left" rotate="-180" x="4" y="0" />
    <style name="bigThumbFrameSpinTop" align="top" rotate="-90" x="0" y="4" />

    <layer name="bigThumb" url="" keep="true" visible="false" alpha="0" width="200" height="100"
           align="lefttop" edge="lefttop" x="50%" y="50%" enabled="false" capture="false" zorder="9"
    >

        <layer name="bigThumbFrame" url="skin.png" keep="true"
               crop="0|220|100|50" scale9grid="10|10|80|30"
               align="center" edge="center" enabled="false" capture="false"
               width="208" height="108" zorder="1"
        >

            <layer name="bigThumbFrameSpin" url="skin.png" keep="true" preload="true"
                   edge="left" crop="100|220|15|50" zorder="2" enabled="false" capture="false"
                   style="bigThumbFrameSpinRight"
            />

            <layer name="bigThumbText" url="plugins/textfield.swf" keep="true"
                   align="righttop" edge="rightbottom" x="0" y="2" enabled="false" capture="false" selectable="false"
                   width="350" autoheight="true" background="false"
                   textshadow="1" textshadowrange="2" textshadowcolor="0x000000" textshadowalpha="1"
                   html=""
                   css="color:#ffffff; font-family:arial; font-size:14px; text-align:right;"
                   cssTextLeft="color:#ffffff; font-family:arial; font-size:14px; text-align:left;"
                   cssTextCenter="color:#ffffff; font-family:arial; font-size:14px; text-align:center;"
                   cssTextRight="color:#ffffff; font-family:arial; font-size:14px; text-align:right;"
            />

        </layer>

    </layer>

<!--    <style name="custThumbArrow" align="bottom" x="0" y="0" />
    <style name="test" type="text" url="plugins/textfield.swf" backgroundcolor="0x000000" backgroundalpha="0" css="font-size:12px; color:#ffffff" />

    <layer name="custThumb" keep="true" align="top" edge="top" width="200" height="200" type="container" visible="false" zorder="9">
            <layer name="spot1" style="test" keep="true" html="1235555 [i class='fas fa-stroopwafel' ][/i]" align="top" edge="top"/>
            <layer name="custThumbArrow" url="skin1.png" keep="true" align="top" edge="top" crop="370|170|9|56" scale="1" type="image" width="9" height="56" />
    </layer>
    
    <action name="custactiv">
        set(layer[custThumb].visible,true);
        set(layer[custThumb].x, get(mouse.x));
        set(layer[custThumb].y, get(mouse.y));
    </action>
-->
<action name="hsLinkedsceneOnclick">
//        set(view.fovmin,30);
        bigThumbShow(false);
//        looktohotspot(get(name),,tween(,1));delayedcall(1, gotoscene(get(linkedscene)); );
</action>

<action name="hsCustomerOnover">
  set(hotspot[customerInfoTitle].alpha,3);
</action>

<action name="hsCustomerOnout">
  set(hotspot[customerInfoTitle].alpha,0);
</action>

<action name="hsLinkedsceneOnover">
        tween(autorotate.speed,0,0.1);
        spheretoscreen(ath,atv,hsx,hsy);
        set(tumbW,202);
        set(tumbH,100);
        if(hsy LT 155,
            add(bigThumbY,hsy,5);
	    set(BTSpin,SpinTop); 
    	    set(BTTextAlign,bottom); 
            set(BTTextEdge,top);
        ,
	    sub(hsy,60); sub(bigThumbY,hsy,tumbH);
    	    set(BTSpin,SpinBottom); set(BTTextAlign,top); set(BTTextEdge,bottom);
        );

        div(bigThumbHalfWidth,tumbW,2);
        sub(bigThumbX,hsx,bigThumbHalfWidth);
//        warning('X: ',bigThumbX,', Y: ',bigThumbY);
//        warning('WIDTH: ',layer[bigThumb].pixelwidth,', HEIGHT: ',layer[bigThumb].pixelheight);
        
        bigThumbShow(true,get(linkedscene),
        get(bigThumbX),get(bigThumbY),
        get(BTSpin),TextCenter,get(BTTextAlign),get(BTTextEdge),get(distance)
        );
    </action>

<action name="hsLinkedsceneOnout">
//        tween(autorotate.speed,get(autorotatespeed),0.3);
        bigThumbShow(false);
//        if(style == hsLineCopter,
//        txtadd(hsImageName,get(name),img);
//        copy(layer[get(hsImageName)].crop,layer[get(hsImageName)].cropnormal);
//        );
    </action>
<action name="bigThumbShow">
        if(%1,
        copy(btobj,layer[bigThumb]);
        stoptween(layer[bigThumb].alpha);
        if(%5 == SpinNone,
        set(layer[bigThumbFrameSpin].visible,false);
        ,
        set(layer[bigThumbFrameSpin].visible,true);
        layer[bigThumbFrameSpin].loadstyle(bigThumbFrame%5);
        );
        copy(layer[bigThumbText].css,layer[bigThumbText].css%6);
        set(layer[bigThumbText].align,%7);
        set(layer[bigThumbText].edge,%8);
        if(%2 == 1000,
        set(btobj.url,images/tb.jpg);
        set(btobj.width,213);
        copy(layer[bigThumbText].html,gotoTourText);
        ,
//        txtadd(btobj.url,get(tourSettings.panosurl),'hi/',get(scene[%2].folder),'/tb.jpg');
//        txtadd(btobj.url,get(scene[%2].folder),'/tb.jpg');
        txtadd(btobj.url,get(scene[%2].thumburl),'');
        set(hstitle,get(scene[%2].title));
        if(region,
        set(hstitle,get(region));
        );
        txtadd(hstitle,get(hstitle),' - ',%9,'m');
        ifnot(%9 == pn,
        copy(layer[bigThumbText].html,hstitle);
        ,
        copy(layer[bigThumbText].html,PNText);
        );
        );


        tween(btobj.x,%3,0.25);
        tween(btobj.y,%4,0.25);
        set(btobj.visible,true);
        set(alphadelay,0);
        tween(alphadelay,1,0.1,linear,tween(btobj.alpha,1,0.1,linear););
        ,
        tween(layer[bigThumb].alpha,0,0.1,linear,set(layer[bigThumb].visible,false););
        );
    </action>

</krpano>
